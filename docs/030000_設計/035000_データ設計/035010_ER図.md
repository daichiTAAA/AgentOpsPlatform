---
title: ER図
version: "0.1"
status: draft
owner: システム開発チーム
updated: 2025-09-07
related_requirements: ["021000_要件定義書", "034020_ユースケース設計"]
---

# 035010 ER図

## 概要

ソロプレナー／AIネイティブ企業基盤システムの主要エンティティとその関係を定義します。人機協調モデルに基づき、人間とAIエージェントの行動・承認・履歴管理を包括的にサポートするデータ構造を設計しています。

**重要**: 本システムはRedmineを中枢管理システムとして活用するため、Redmineの既存テーブル構造を**完全に保持**し、AI機能拡張は**別テーブル**で管理します。これによりRedmineとの完全互換性を維持しつつ、AI機能を段階的に追加できる設計となっています。

### 設計原則

#### 1. Redmine完全互換性の保持
- Redmineの既存テーブルは**一切変更しない**
- 既存のRedmineインストールにそのまま適用可能
- Redmineのバージョンアップに影響されない

#### 2. AI拡張テーブルによる機能追加
- AI関連情報は専用の拡張テーブルで管理
- Redmineテーブルとの関連は外部キーで実現
- 段階的導入・削除が可能な設計

## 主要エンティティ群

### 1. 組織・ユーザ管理（Organization Domain）
- **Organizations**: 組織・テナント管理
- **Users**: システム利用者（人間・AIエージェント）
- **EmailAddresses**: ユーザーメールアドレス管理
- **UserPreferences**: ユーザー設定管理（Redmine標準）
- **GroupsUsers**: グループ・ユーザー関連
- **Roles**: 権限ロール（Admin/Approver/Contributor/Agent）
- **RolesManagedRoles**: ロール管理関係
- **Permissions**: 具体的権限定義
- **AuthSources**: 認証ソース（LDAP/SSO等）
- **Tokens**: APIトークン・認証トークン
- **Settings**: システム設定
- **OauthApplications**: OAuth2アプリケーション
- **OauthAccessTokens**: OAuth2アクセストークン
- **OauthAccessGrants**: OAuth2認可グラント

### 2. プロジェクト・チケット管理（Project Management Domain）
- **Projects**: プロジェクト（戦略実行・調査・開発等）
- **Issues**: Redmineチケット（タスク・バグ・要求等）
- **Trackers**: issue種別（タスク・バグ・機能・調査等）
- **ProjectsTrackers**: プロジェクト利用可能トラッカー
- **IssueStatuses**: チケットステータス（新規・進行中・解決・終了等）
- **IssueCategories**: プロジェクト内カテゴリ分類
- **Versions**: バージョン・マイルストーン・リリース管理
- **Members**: プロジェクトメンバー管理
- **MemberRoles**: メンバーロール関連
- **Workflows**: ワークフロー・ステータス遷移
- **IssueRelations**: チケット間関係（依存・ブロック等）
- **TimeEntries**: 時間管理・工数記録
- **Queries**: 保存されたフィルタ・検索条件
- **QueriesRoles**: クエリロール制限
- **EnabledModules**: プロジェクト機能有効化設定
- **ProjectExtensions**: プロジェクトAI拡張設定
- **IssueExtensions**: チケットAI拡張設定
- **TrackerExtensions**: トラッカーAI拡張設定

### 3. 添付ファイル・ドキュメント管理（Document Domain）
- **Attachments**: Redmine添付ファイル管理
- **Documents**: プロジェクトドキュメント
- **News**: プロジェクトニュース・お知らせ
- **Boards**: プロジェクト掲示板
- **Messages**: 掲示板メッセージ・スレッド
- **Comments**: コメント管理
- **Reactions**: リアクション管理
- **CustomFields**: カスタムフィールド定義
- **CustomValues**: カスタムフィールド値
- **CustomFieldEnumerations**: カスタムフィールド選択肢
- **CustomFieldsProjects**: カスタムフィールドプロジェクト適用
- **CustomFieldsRoles**: カスタムフィールドロール適用
- **CustomFieldsTrackers**: カスタムフィールドトラッカー適用
- **AttachmentAIAnalytics**: 添付ファイルAI分析機能
- **MessageAIAssistant**: メッセージAIアシスタント機能
- **DocumentExtensions**: ドキュメントAI拡張設定
- **NewsExtensions**: ニュースAI拡張設定
- **CustomFieldExtensions**: カスタムフィールドAI拡張設定

### 4. 履歴・監査・ワークフロー管理（Audit Workflow Domain）
- **Journals**: 変更履歴・アクティビティログ
- **JournalDetails**: 変更履歴詳細
- **Watchers**: チケット・プロジェクト監視設定
- **Tokens**: APIトークン・認証トークン
- **Workflows**: ワークフロー・ステータス遷移
- **Enumerations**: 列挙値・マスタデータ
- **JournalExtensions**: 変更履歴AI拡張機能
- **WatcherExtensions**: 監視設定AI拡張機能

### 5. AI・実行管理（AI Agent Domain）
- **AIAgents**: AIエージェント定義・設定
- **Executions**: AI実行履歴・ジョブ管理
- **ExecutionResults**: 実行結果・成果物
- **AIIssueLinks**: RedmineチケットとAI実行の連携

### 6. 人機協調・ワークフロー（Collaboration Domain）
- **ApprovalFlows**: HITL承認管理
- **Reviews**: レビュー・フィードバック
- **WorkflowSteps**: ワークフローステップ詳細

### 7. ナレッジ・学習管理（Knowledge Domain）
- **Wikis**: Redmine標準Wiki機能
- **WikiPages**: Redmine標準Wikiページ管理
- **WikiContents**: Redmine標準Wikiコンテンツ・バージョン管理
- **WikiContentVersions**: Redmine標準Wikiバージョン履歴
- **WikiRedirects**: Redmine標準Wikiリダイレクト
- **WikiExtensions**: Wiki AI拡張（自動分類・タグ付け）
- **KnowledgeAssets**: AI生成知識資産・ドキュメント
- **KnowledgeVersions**: ナレッジバージョン管理
- **LearningPlans**: 学習計画・カリキュラム
- **LearningProgress**: 学習進捗管理
- **QualityChecks**: Wiki・ナレッジ品質チェック結果

### 8. 監査・ガバナンス（Audit Domain）
- **AuditLogs**: 包括的監査ログ
- **ComplianceChecks**: コンプライアンス確認
- **SecurityEvents**: セキュリティイベント

### 9. 統合・拡張管理（Integration Domain）
- **IntegrationConfigs**: 外部システム連携設定
- **IntegrationLogs**: 連携処理ログ
- **Repositories**: バージョン管理リポジトリ
- **Changesets**: コミット・変更セット
- **ChangesetParents**: 変更セット親子関係（Redmine標準）
- **ChangesetsIssues**: 変更セットとチケットの関連（Redmine標準）
- **Changes**: ファイル変更詳細
- **RepositoryAIAnalytics**: リポジトリAI分析機能
- **CodeReviewAssistant**: コードレビューAIアシスタント
- **OauthApplications**: OAuth2アプリケーション（Redmine標準）
- **OauthAccessGrants**: OAuth2アクセス許可（Redmine標準）
- **OauthAccessTokens**: OAuth2アクセストークン（Redmine標準）
- **Imports**: インポート処理（Redmine標準）
- **ImportItems**: インポート項目（Redmine標準）
- **Settings**: システム設定（Redmine標準）

## ER図

以下のER図は、Redmineの既存テーブル構造を基盤として、AI機能拡張のための追加テーブルを統合した設計となっています。

### 1. 組織・ユーザ管理ドメイン

#### 1.1. ユーザ・認証・設定管理

```mermaid
erDiagram
    %% Redmine標準テーブル（変更なし）
    Users {
        int id PK "Redmine標準"
        string login UK "Redmine標準: limit=30"
        string firstname "Redmine標準: limit=30"
        string lastname "Redmine標準: limit=30"
        string mail UK "Redmine標準: limit=60"
        string hashed_password "Redmine標準: limit=40"
        boolean mail_notification "Redmine標準: default=true"
        boolean admin "Redmine標準: default=false"
        int status "Redmine標準: default=1, 1=active, 2=registered, 3=locked"
        datetime last_login_on "Redmine標準"
        string language "Redmine標準: limit=2"
        int auth_source_id FK "Redmine標準"
        timestamp created_on "Redmine標準"
        timestamp updated_on "Redmine標準"
    }
    
    EmailAddresses {
        int id PK "Redmine標準"
        int user_id FK "Redmine標準"
        string address "Redmine標準"
        boolean is_default "Redmine標準: default=false"
        boolean notify "Redmine標準: default=true"
        datetime created_on "Redmine標準"
        datetime updated_on "Redmine標準"
    }
    
    AuthSources {
        int id PK "Redmine標準"
        string type "Redmine標準: limit=30"
        string name "Redmine標準: limit=60"
        string host "Redmine標準: limit=60"
        int port "Redmine標準"
        string account "Redmine標準: limit=60"
        string account_password "Redmine標準: limit=60"
        string base_dn "Redmine標準: limit=255"
        string attr_login "Redmine標準: limit=30"
        string attr_firstname "Redmine標準: limit=30"
        string attr_lastname "Redmine標準: limit=30"
        string attr_mail "Redmine標準: limit=30"
        boolean onthefly_register "Redmine標準: default=false"
    }
    
    Settings {
        int id PK "Redmine標準"
        string name "Redmine標準"
        text value "Redmine標準"
        datetime updated_on "Redmine標準"
    }
    
    %% 関係性
    Users ||--o{ EmailAddresses : "複数メールアドレス管理"
    Users }o--|| AuthSources : "認証ソース参照"
```

#### 1.2. トークン・設定管理

```mermaid
erDiagram
    Tokens {
        int id PK "Redmine標準"
        int user_id FK "Redmine標準"
        string action "Redmine標準: limit=30"
        string value "Redmine標準: limit=40"
        datetime created_on "Redmine標準"
        datetime updated_on "Redmine標準"
    }
    
    UserPreferences {
        int id PK "Redmine標準"
        int user_id FK "Redmine標準"
        text others "Redmine標準"
    }
    
    %% 関係性
    Users ||--o{ Tokens : "APIトークン"
    Users ||--o| UserPreferences : "個人設定"
```

#### 1.3. グループ・OAuth管理

```mermaid
erDiagram
    GroupsUsers {
        int group_id FK "Redmine標準"
        int user_id FK "Redmine標準"
    }
    
    OauthApplications {
        int id PK "Redmine標準"
        string name "Redmine標準"
        string uid "Redmine標準"
        string secret "Redmine標準"
        text redirect_uri "Redmine標準"
        string scopes "Redmine標準"
        boolean confidential "Redmine標準: default=true"
        datetime created_at "Redmine標準"
        datetime updated_at "Redmine標準"
    }
    
    OauthAccessTokens {
        int id PK "Redmine標準"
        int resource_owner_id FK "Redmine標準"
        int application_id FK "Redmine標準"
        string token "Redmine標準"
        string refresh_token "Redmine標準"
        int expires_in "Redmine標準"
        datetime revoked_at "Redmine標準"
        datetime created_at "Redmine標準"
        string scopes "Redmine標準"
        string previous_refresh_token "Redmine標準"
    }
    
    OauthAccessGrants {
        int id PK "Redmine標準"
        int resource_owner_id FK "Redmine標準"
        int application_id FK "Redmine標準"
        string token "Redmine標準"
        int expires_in "Redmine標準"
        text redirect_uri "Redmine標準"
        datetime created_at "Redmine標準"
        datetime revoked_at "Redmine標準"
        string scopes "Redmine標準"
    }
    
    %% 関係性
    Users ||--o{ GroupsUsers : "グループ参加"
    Users ||--o{ OauthAccessTokens : "OAuth認証トークン"
    Users ||--o{ OauthAccessGrants : "OAuth認証許可"
    OauthApplications ||--o{ OauthAccessTokens : "アプリケーショントークン"
    OauthApplications ||--o{ OauthAccessGrants : "認可フロー管理"
```

#### 1.4. AI拡張テーブル

```mermaid
erDiagram
    %% AI拡張テーブル（新規追加）
    Organizations {
        UUID organization_id PK "AI拡張"
        string organization_name UK "AI拡張"
        string domain UK "AI拡張"
        string organization_type "AI拡張: enterprise/individual/team"
        boolean is_active "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    
    UserExtensions {
        UUID extension_id PK "AI拡張"
        int user_id FK "AI拡張: Users参照"
        UUID organization_id FK "AI拡張"
        string user_type "AI拡張: human/ai_agent"
        json user_config "AI拡張"
        boolean is_ai_enabled "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    
    %% 関係性
    Users ||--o| UserExtensions : "AI機能拡張"
    Organizations ||--o{ UserExtensions : "組織ユーザー管理"
```

#### 1.5. 権限・ロール管理

```mermaid
erDiagram
    Roles {
        int id PK "Redmine標準"
        string name "Redmine標準: limit=30"
        string assignable "Redmine標準"
        int builtin "Redmine標準: default=0"
        text permissions "Redmine標準"
        int position "Redmine標準"
        boolean all_roles_managed "Redmine標準: default=true"
        text settings "Redmine標準"
    }
    
    Permissions {
        int id PK "Redmine標準"
        string controller "Redmine標準: limit=30"
        string action "Redmine標準: limit=30" 
        string description "Redmine標準: limit=60"
        boolean is_public "Redmine標準: default=false"
        int sort "Redmine標準: default=0"
        boolean mail_option "Redmine標準: default=false"
        boolean mail_enabled "Redmine標準: default=false"
    }
    
    PermissionsRoles {
        int permission_id FK "Redmine標準"
        int role_id FK "Redmine標準"
    }
    
    RolesManagedRoles {
        int role_id FK "Redmine標準"
        int managed_role_id FK "Redmine標準"
    }

    %% 関係性
    Roles ||--o{ PermissionsRoles : "ロール権限付与"
    Permissions ||--o{ PermissionsRoles : "権限ロール関連"
    Roles ||--o{ RolesManagedRoles : "管理ロール階層"
```

### 2. プロジェクト・チケット管理ドメイン

#### 2.1. プロジェクト・メンバー・チケット管理

```mermaid
erDiagram
    %% Redmine標準テーブル（変更なし）
    Projects {
        int id PK "Redmine標準"
        string name "Redmine標準: limit=30"
        string description "Redmine標準"
        string homepage "Redmine標準: limit=60"
        boolean is_public "Redmine標準: default=true"
        int parent_id FK "Redmine標準"
        int projects_count "Redmine標準: default=0"
        timestamp created_on "Redmine標準"
        timestamp updated_on "Redmine標準"
    }
    
    Members {
        int id PK "Redmine標準"
        int user_id FK "Redmine標準"
        int project_id FK "Redmine標準"
        timestamp created_on "Redmine標準"
    }
    
    MemberRoles {
        int id PK "Redmine標準"
        int member_id FK "Redmine標準"
        int role_id FK "Redmine標準"
        int inherited_from FK "Redmine標準"
    }
    
    ProjectsTrackers {
        int project_id FK "Redmine標準"
        int tracker_id FK "Redmine標準"
    }
    
    Issues {
        int id PK "Redmine標準"
        int tracker_id FK "Redmine標準"
        int project_id FK "Redmine標準"
        string subject "Redmine標準"
        text description "Redmine標準"
        date due_date "Redmine標準"
        int category_id FK "Redmine標準"
        int status_id FK "Redmine標準"
        int assigned_to_id FK "Redmine標準"
        int priority_id FK "Redmine標準"
        int fixed_version_id FK "Redmine標準"
        int author_id FK "Redmine標準"
        int lock_version "Redmine標準: default=0"
        timestamp created_on "Redmine標準"
        timestamp updated_on "Redmine標準"
    }
    
    Trackers {
        int id PK "Redmine標準"
        string name "Redmine標準: limit=30"
        boolean is_in_chlog "Redmine標準: default=false"
    }
    
    %% 関係性
    Projects ||--o{ Members : "プロジェクトメンバー"
    Projects ||--o{ Issues : "チケット管理"
    Projects ||--o{ ProjectsTrackers : "利用可能トラッカー"
    Members ||--o{ MemberRoles : "メンバーロール"
    Members }o--|| Users : "ユーザー参加"
    MemberRoles }o--|| Roles : "ロール付与"
    ProjectsTrackers }o--|| Trackers : "トラッカー設定"
    Issues }o--|| Trackers : "チケットトラッカー種別"
    Issues }o--|| Users : "チケット作成者"
    Issues }o--|| Users : "チケット担当者"
```

#### 2.2. チケット分類・ステータス管理

```mermaid
erDiagram
    IssueStatuses {
        int id PK "Redmine標準"
        string name "Redmine標準: limit=30"
        boolean is_closed "Redmine標準: default=false"
        boolean is_default "Redmine標準: default=false"
        string html_color "Redmine標準: limit=6, default=FFFFFF"
    }
    
    IssueCategories {
        int id PK "Redmine標準"
        int project_id FK "Redmine標準"
        string name "Redmine標準: limit=30"
    }
    
    Versions {
        int id PK "Redmine標準"
        int project_id FK "Redmine標準"
        string name "Redmine標準: limit=30"
        string description "Redmine標準"
        date effective_date "Redmine標準"
        timestamp created_on "Redmine標準"
        timestamp updated_on "Redmine標準"
    }
    
    Workflows {
        int id PK "Redmine標準"
        int tracker_id FK "Redmine標準"
        int old_status_id FK "Redmine標準"
        int new_status_id FK "Redmine標準"
        int role_id FK "Redmine標準"
    }
    
    %% 関係性
    IssueCategories }o--|| Projects : "プロジェクトカテゴリ分類"
    Versions }o--|| Projects : "プロジェクトバージョン管理"
    IssueStatuses ||--o{ Issues : "チケットステータス設定"
    Issues }o--|| IssueCategories : "チケットカテゴリ分類"
    Issues }o--|| Versions : "チケット修正バージョン"
    Workflows }o--|| Trackers : "ワークフロートラッカー設定"
    Workflows }o--|| IssueStatuses : "ワークフロー開始ステータス"
    Workflows }o--|| IssueStatuses : "ワークフロー終了ステータス"
    Workflows }o--|| Roles : "ワークフローロール権限"
```

#### 2.3. 時間管理・検索・モジュール設定

```mermaid
erDiagram
    IssueRelations {
        int id PK "Redmine標準"
        int issue_from_id FK "Redmine標準"
        int issue_to_id FK "Redmine標準"
        string relation_type "Redmine標準"
        int delay "Redmine標準"
    }
    
    TimeEntries {
        int id PK "Redmine標準"
        int project_id FK "Redmine標準"
        int user_id FK "Redmine標準"
        int issue_id FK "Redmine標準"
        float hours "Redmine標準"
        string comments "Redmine標準: limit=255"
        int activity_id FK "Redmine標準: Enumerations参照"
        date spent_on "Redmine標準"
        int tyear "Redmine標準"
        int tmonth "Redmine標準"
        int tweek "Redmine標準"
        timestamp created_on "Redmine標準"
        timestamp updated_on "Redmine標準"
    }
    
    Queries {
        int id PK "Redmine標準"
        int project_id FK "Redmine標準"
        string name "Redmine標準"
        text filters "Redmine標準"
        int user_id FK "Redmine標準"
        boolean is_public "Redmine標準: default=false"
        text group_by "Redmine標準"
        text column_names "Redmine標準"
        text sort_criteria "Redmine標準"
        string type "Redmine標準"
    }
    
    QueriesRoles {
        int query_id FK "Redmine標準"
        int role_id FK "Redmine標準"
    }
    
    EnabledModules {
        int id PK "Redmine標準"
        int project_id FK "Redmine標準"
        string name "Redmine標準"
    }
    
    %% 関係性
    IssueRelations }o--|| Issues : "関連元チケット参照"
    IssueRelations }o--|| Issues : "関連先チケット参照"
    Projects ||--o{ EnabledModules : "プロジェクト機能有効化"
    TimeEntries }o--|| Projects : "プロジェクト工数登録"
    TimeEntries }o--|| Users : "工数記録者"
    TimeEntries }o--|| Issues : "チケット工数記録"
    TimeEntries }o--|| Enumerations : "作業種別分類"
    Projects ||--o{ Queries : "プロジェクト検索クエリ"
    Users ||--o{ Queries : "クエリ作成者"
    Queries ||--o{ QueriesRoles : "クエリロール権限"
    QueriesRoles }o--|| Roles : "ロール制限設定"
```

#### 2.4. AI拡張テーブル

```mermaid
erDiagram
    %% AI拡張テーブル（新規追加）
    ProjectExtensions {
        UUID extension_id PK "AI拡張"
        int project_id FK "AI拡張: Projects参照"
        UUID organization_id FK "AI拡張"
        string project_type "AI拡張: strategic/research/development"
        int owner_id FK "AI拡張: Users参照"
        json ai_config "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    ProjectExtensions ||--|| Projects : "プロジェクトAI機能拡張"
    ProjectExtensions }o--|| Organizations : "組織プロジェクト管理"
    ProjectExtensions }o--|| Users : "プロジェクトオーナー管理"
```

```mermaid
erDiagram
    IssueExtensions {
        UUID extension_id PK "AI拡張"
        int issue_id FK "AI拡張: Issues参照"
        string issue_type "AI拡張: manual/ai_automated/hybrid"
        json ai_config "AI拡張"
        boolean is_ai_processable "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    IssueExtensions ||--|| Issues : "チケットAI機能拡張"
```

```mermaid
erDiagram
    TrackerExtensions {
        UUID extension_id PK "AI拡張"
        int tracker_id FK "AI拡張: Trackers参照"
        string tracker_type "AI拡張: task/bug/feature/research"
        json ai_workflow_config "AI拡張"
        boolean ai_automated "AI拡張"
        json ai_conditions "AI拡張"
        datetime created_at "AI拡張"
    }
    %% 関係性
    TrackerExtensions ||--|| Trackers : "トラッカーAI拡張"
```

### 3. 添付ファイル・ドキュメント管理ドメイン

```mermaid
erDiagram
    %% Redmine標準テーブル（変更なし）
    Attachments {
        int id PK "Redmine標準"
        int container_id FK "Redmine標準"
        string container_type "Redmine標準: limit=30"
        string filename "Redmine標準"
        string disk_filename "Redmine標準"
        int filesize "Redmine標準: default=0"
        string content_type "Redmine標準: limit=60"
        string digest "Redmine標準: limit=40"
        int downloads "Redmine標準: default=0"
        int author_id FK "Redmine標準"
        timestamp created_on "Redmine標準"
    }
    
    Documents {
        int id PK "Redmine標準"
        int project_id FK "Redmine標準"
        int category_id FK "Redmine標準"
        string title "Redmine標準: limit=60"
        text description "Redmine標準"
        timestamp created_on "Redmine標準"
    }
    
    News {
        int id PK "Redmine標準"
        int project_id FK "Redmine標準"
        string title "Redmine標準: limit=60"
        string summary "Redmine標準: limit=255"
        text description "Redmine標準"
        int author_id FK "Redmine標準"
        timestamp created_on "Redmine標準"
    }
    
    Documents {
        int id PK "Redmine標準"
        int project_id FK "Redmine標準"
        int category_id FK "Redmine標準"
        string title "Redmine標準: limit=60"
        text description "Redmine標準"
        datetime created_on "Redmine標準"
    }
    
    %% Redmine基盤: 掲示板・メッセージ
    Boards {
        int id PK "Redmine標準"
        int project_id FK "Redmine標準"
        string name "Redmine標準"
        string description "Redmine標準"
        int position "Redmine標準"
        int topics_count "Redmine標準"
        int messages_count "Redmine標準"
        int last_message_id FK "Redmine標準"
    }
    
    Messages {
        int id PK "Redmine標準"
        int board_id FK "Redmine標準"
        int parent_id FK "Redmine標準"
        string subject "Redmine標準"
        text content "Redmine標準"
        int author_id FK "Redmine標準"
        int replies_count "Redmine標準"
        int last_reply_id FK "Redmine標準"
        datetime created_on "Redmine標準"
        datetime updated_on "Redmine標準"
    }
    
    %% AI拡張: ファイル・文書AI機能
    AttachmentAIAnalytics {
        UUID analytics_id PK "AI拡張"
        int attachment_id FK "AI拡張: Attachments参照"
        json content_analysis "AI拡張"
        json security_scan_results "AI拡張"
        boolean contains_sensitive_data "AI拡張"
        json ai_categorization "AI拡張"
        float ai_relevance_score "AI拡張"
        datetime analyzed_at "AI拡張"
        UUID analyzed_by FK "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    
    MessageAIAssistant {
        UUID assistant_id PK "AI拡張"
        int message_id FK "AI拡張: Messages参照"
        json sentiment_analysis "AI拡張"
        json topic_classification "AI拡張"
        json ai_suggested_responses "AI拡張"
        boolean ai_moderation_flag "AI拡張"
        json collaboration_insights "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    
    DocumentExtensions {
        UUID extension_id PK "AI拡張"
        int document_id FK "AI拡張: Documents参照"
        string document_type "AI拡張"
        json ai_metadata "AI拡張"
        boolean ai_generated "AI拡張"
        datetime created_at "AI拡張"
    }
    
    NewsExtensions {
        UUID extension_id PK "AI拡張"
        int news_id FK "AI拡張: News参照"
        boolean ai_generated "AI拡張"
        json ai_generation_config "AI拡張"
        datetime created_at "AI拡張"
    }
    
    %% 関係性
    Issues }o--|| Attachments : "チケット添付ファイル"
    Documents ||--o{ Attachments : "文書添付ファイル"
    Messages ||--o{ Attachments : "メッセージ添付ファイル"
    Projects ||--o{ Boards : "プロジェクト掲示板"
    Boards ||--o{ Messages : "掲示板メッセージ"
    Messages ||--o{ Messages : "メッセージ親子関係"
    Users ||--o{ Messages : "メッセージ作成者"
    Projects ||--o{ Documents : "プロジェクト文書"
    Documents ||--o| DocumentExtensions : "文書AI機能拡張"
    News ||--o| NewsExtensions : "ニュースAI機能拡張"
    Attachments ||--o| AttachmentAIAnalytics : "添付ファイルAI分析"
    Messages ||--o| MessageAIAssistant : "メッセージAIアシスタント"
    Users ||--o{ Attachments : "ファイルアップロード"
    News ||--o{ Projects : "プロジェクトニュース"
```

#### 3.1. カスタムフィールド・コメント管理

```mermaid
erDiagram
    CustomFields {
        int id PK "Redmine標準"
        string type "Redmine標準"
        string name "Redmine標準"
        string field_format "Redmine標準"
        text possible_values "Redmine標準"
        string regexp "Redmine標準"
        int min_length "Redmine標準"
        int max_length "Redmine標準"
        boolean is_required "Redmine標準"
        boolean is_for_all "Redmine標準"
        boolean is_filter "Redmine標準"
        boolean searchable "Redmine標準"
        text default_value "Redmine標準"
        boolean editable "Redmine標準"
        boolean visible "Redmine標準"
        boolean multiple "Redmine標準"
        text format_store "Redmine標準"
        text description "Redmine標準"
    }
    
    CustomValues {
        int id PK "Redmine標準"
        string customized_type "Redmine標準"
        int customized_id FK "Redmine標準"
        int custom_field_id FK "Redmine標準"
        text value "Redmine標準"
    }
    
    CustomFieldEnumerations {
        int id PK "Redmine標準"
        int custom_field_id FK "Redmine標準"
        string name "Redmine標準"
        boolean active "Redmine標準: default=true"
        int position "Redmine標準: default=1"
    }
    
    CustomFieldsProjects {
        int custom_field_id FK "Redmine標準"
        int project_id FK "Redmine標準"
    }
    
    CustomFieldsRoles {
        int custom_field_id FK "Redmine標準"
        int role_id FK "Redmine標準"
    }
    
    CustomFieldsTrackers {
        int custom_field_id FK "Redmine標準"
        int tracker_id FK "Redmine標準"
    }
    
    %% 関係性
    CustomValues }o--|| CustomFields : "カスタムフィールド値設定"
    CustomFieldEnumerations }o--|| CustomFields : "選択肢定義"
    CustomFields ||--o{ CustomFieldsProjects : "プロジェクト適用設定"
    CustomFields ||--o{ CustomFieldsRoles : "ロール適用設定"
    CustomFields ||--o{ CustomFieldsTrackers : "トラッカー適用設定"
    CustomFieldsProjects }o--|| Projects : "プロジェクト制限管理"
    CustomFieldsRoles }o--|| Roles : "ロール制限管理"
    CustomFieldsTrackers }o--|| Trackers : "トラッカー制限管理"
```

```mermaid
erDiagram
    Comments {
        int id PK "Redmine標準"
        string commented_type "Redmine標準: limit=30"
        int commented_id FK "Redmine標準"
        int author_id FK "Redmine標準"
        text comments "Redmine標準"
        datetime created_on "Redmine標準"
        datetime updated_on "Redmine標準"
    }
    
    Reactions {
        int id PK "Redmine標準"
        int user_id FK "Redmine標準"
        string reactable_type "Redmine標準"
        int reactable_id FK "Redmine標準"
        string reaction "Redmine標準"
        datetime created_on "Redmine標準"
    }

    Comments }o--|| Users : "コメント作成者"
    Reactions }o--|| Users : "リアクション投稿者"
```

#### 3.2. AI拡張テーブル

```mermaid
erDiagram
    CustomFieldExtensions {
        UUID extension_id PK "AI拡張"
        int custom_field_id FK "AI拡張: CustomFields参照"
        boolean ai_processable "AI拡張"
        json ai_processing_config "AI拡張"
        datetime created_at "AI拡張"
    }

    CustomFields ||--o| CustomFieldExtensions : "カスタムフィールドAI機能拡張"
```

### 4. 履歴・監査・ワークフロー管理ドメイン

```mermaid
erDiagram
    %% Redmine標準テーブル（変更なし）
    Journals {
        int id PK "Redmine標準"
        int journalized_id FK "Redmine標準"
        string journalized_type "Redmine標準: limit=30"
        int user_id FK "Redmine標準"
        text notes "Redmine標準"
        datetime created_on "Redmine標準"
    }
    
    JournalDetails {
        int id PK "Redmine標準"
        int journal_id FK "Redmine標準"
        string property "Redmine標準: limit=30"
        string prop_key "Redmine標準: limit=30"
        string old_value "Redmine標準"
        string value "Redmine標準"
    }
    
    Watchers {
        int id PK "Redmine標準"
        string watchable_type "Redmine標準"
        int watchable_id FK "Redmine標準"
        int user_id FK "Redmine標準"
    }
    
    %% AI拡張テーブル（新規追加）
    JournalExtensions {
        UUID extension_id PK "AI拡張"
        int journal_id FK "AI拡張: Journals参照"
        boolean ai_generated "AI拡張"
        json ai_context "AI拡張"
        string ai_operation_type "AI拡張"
        datetime created_at "AI拡張"
    }
    
    WatcherExtensions {
        UUID extension_id PK "AI拡張"
        int watcher_id FK "AI拡張: Watchers参照"
        boolean ai_auto_watch "AI拡張"
        json notification_config "AI拡張"
        datetime created_at "AI拡張"
    }
    
    %% 関係性
    Journals ||--o| JournalExtensions : "履歴AI機能拡張"
    Watchers ||--o| WatcherExtensions : "監視AI機能拡張"
    JournalDetails }o--|| Journals : "履歴詳細管理"
    Journals ||--o{ Issues : "チケット変更履歴"
    Issues }o--|| Watchers : "チケット監視設定"
```

```mermaid
erDiagram
    Enumerations {
        int id PK "Redmine標準"
        string opt "Redmine標準: limit=4"
        string name "Redmine標準: limit=30"
        int position "Redmine標準: default=1"
        boolean is_default "Redmine標準: default=false"
        string type "Redmine標準"
        boolean active "Redmine標準: default=true"
        int project_id FK "Redmine標準"
        int parent_id FK "Redmine標準"
        string position_name "Redmine標準: limit=30"
    }
```

### 5. AI・実行管理ドメイン

```mermaid
erDiagram
    AIAgents {
        UUID agent_id PK "AI拡張"
        UUID owner_id FK "AI拡張: Users参照"
        string agent_name "AI拡張"
        string agent_type "AI拡張: strategic/research/development/quality/audit"
        json agent_config "AI拡張"
        string status "AI拡張: active/inactive/maintenance"
        datetime last_execution_at "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    
    Executions {
        UUID execution_id PK "AI拡張"
        UUID agent_id FK "AI拡張"
        UUID issue_id FK "AI拡張: Issues参照: Redmine連携"
        string execution_type "AI拡張: analysis/generation/monitoring/integration"
        json input_parameters "AI拡張"
        string status "AI拡張: pending/running/completed/failed"
        datetime started_at "AI拡張"
        datetime completed_at "AI拡張"
        datetime created_at "AI拡張"
    }
    
    ExecutionResults {
        UUID result_id PK "AI拡張"
        UUID execution_id FK "AI拡張"
        string result_type "AI拡張: report/code/analysis/recommendation"
        json result_data "AI拡張"
        text summary "AI拡張"
        float confidence_score "AI拡張"
        boolean requires_approval "AI拡張"
        datetime created_at "AI拡張"
    }
    
    AIIssueLinks {
        UUID link_id PK "AI拡張"
        UUID issue_id FK "AI拡張: Issues参照: Redmine連携"
        UUID agent_id FK "AI拡張"
        UUID execution_id FK "AI拡張"
        string link_type "AI拡張: automated/monitored/analyzed"
        json link_metadata "AI拡張"
        datetime linked_at "AI拡張"
    }
    
    AIAgents ||--o{ Executions : executes
    Executions ||--o{ ExecutionResults : produces
    AIIssueLinks ||--o{ Issues : links_to
    AIIssueLinks ||--o{ Executions : tracks
```

### 6. 人機協調・ワークフロー管理ドメイン

```mermaid
erDiagram
    ApprovalFlows {
        UUID approval_id PK "AI拡張"
        UUID execution_id FK "AI拡張: Executions参照"
        UUID requester_id FK "AI拡張: Users参照"
        UUID approver_id FK "AI拡張: Users参照"
        string approval_type "AI拡張: automatic/manual/escalated"
        string approval_status "AI拡張: pending/approved/rejected/timeout"
        text approval_reason "AI拡張"
        text rejection_reason "AI拡張"
        datetime requested_at "AI拡張"
        datetime responded_at "AI拡張"
        datetime expires_at "AI拡張"
    }
    
    Reviews {
        UUID review_id PK "AI拡張"
        UUID result_id FK "AI拡張: ExecutionResults参照"
        UUID reviewer_id FK "AI拡張: Users参照"
        string review_type "AI拡張: quality/security/compliance/content"
        int rating "AI拡張: 1-5"
        text feedback "AI拡張"
        json review_details "AI拡張"
        string status "AI拡張: pending/completed/revision_required"
        datetime reviewed_at "AI拡張"
    }
    
    
    ApprovalFlows ||--o{ Executions : "実行承認管理"
    Reviews ||--o{ ExecutionResults : "実行結果レビュー"
```

```mermaid
erDiagram
    WorkflowSteps {
        UUID step_id PK "AI拡張"
        UUID workflow_id FK "AI拡張: Workflows参照: Redmine"
        string step_name "AI拡張"
        int step_order "AI拡張"
        string step_type "AI拡張: manual/automated/conditional"
        json step_config "AI拡張"
        boolean is_required "AI拡張"
        datetime created_at "AI拡張"
    }

    WorkflowSteps ||--o{ Workflows : "ワークフローステップ定義"
```

### 7. ナレッジ・学習管理ドメイン（Redmine基盤 + AI拡張）

```mermaid
erDiagram
    %% Redmine標準Wikiテーブル（変更なし）
    Wikis {
        int id PK "Redmine標準"
        int project_id FK "Redmine標準"
        string start_page "Redmine標準: limit=255"
        int status "Redmine標準: default=1"
    }
    
    WikiPages {
        int id PK "Redmine標準"
        int wiki_id FK "Redmine標準"
        string title "Redmine標準: limit=255"
        datetime created_on "Redmine標準"
    }
    
    WikiContents {
        int id PK "Redmine標準"
        int page_id FK "Redmine標準"
        int author_id FK "Redmine標準"
        text text "Redmine標準"
        string comments "Redmine標準: limit=255"
        datetime updated_on "Redmine標準"
        int version "Redmine標準"
    }
    
    WikiContentVersions {
        int id PK "Redmine標準"
        int wiki_content_id FK "Redmine標準"
        int page_id FK "Redmine標準"
        int author_id FK "Redmine標準"
        binary data "Redmine標準"
        string compression "Redmine標準: limit=6"
        string comments "Redmine標準: limit=255"
        datetime updated_on "Redmine標準"
        int version "Redmine標準"
    }
    
    WikiRedirects {
        int id PK "Redmine標準"
        int wiki_id FK "Redmine標準"
        string title "Redmine標準"
        string redirects_to "Redmine標準"
        datetime created_on "Redmine標準"
    }
    
    %% AI拡張ナレッジテーブル（新規追加）
    WikiExtensions {
        UUID extension_id PK "AI拡張"
        int wiki_page_id FK "AI拡張: WikiPages参照"
        boolean ai_generated "AI拡張"
        json ai_metadata "AI拡張"
        string knowledge_category "AI拡張"
        json tags "AI拡張"
        float relevance_score "AI拡張"
        datetime created_at "AI拡張"
    }
    
    KnowledgeAssets {
        UUID asset_id PK "AI拡張"
        string asset_name "AI拡張"
        string asset_type "AI拡張: wiki/document/code/analysis/report/template"
        text description "AI拡張"
        text content "AI拡張"
        string file_path "AI拡張"
        json metadata "AI拡張"
        json tags "AI拡張"
        UUID created_by FK "AI拡張: Users参照"
        string access_level "AI拡張: public/internal/restricted"
        boolean is_active "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    
    %% 関係性
    Projects }o--|| Wikis : "プロジェクトWiki"
    Wikis ||--o{ WikiPages : "Wikiページ管理"
    WikiPages ||--o{ WikiContents : "ページコンテンツ"
    WikiPages ||--o| WikiExtensions : "WikiAI機能拡張"
    WikiContents ||--o{ WikiContentVersions : "コンテンツバージョン管理"
    Wikis ||--o{ WikiRedirects : "Wikiリダイレクト"
    
    %% AI拡張との連携
    KnowledgeAssets }o--|| WikiPages : "Wikiページ参照"
```

```mermaid
erDiagram
    QualityChecks {
        UUID check_id PK "AI拡張"
        UUID asset_id FK "AI拡張: KnowledgeAssets参照"
        UUID result_id FK "AI拡張: ExecutionResults参照"
        int wiki_page_id FK "AI拡張: WikiPages参照"
        UUID checked_by FK "AI拡張: Users参照"
        string check_type "AI拡張: automated/manual/peer_review"
        string quality_score "AI拡張"
        json check_results "AI拡張"
        text feedback "AI拡張"
        string status "AI拡張: passed/failed/needs_improvement"
        datetime checked_at "AI拡張"
        datetime created_at "AI拡張"
    }
    
    KnowledgeVersions {
        UUID version_id PK "AI拡張"
        UUID asset_id FK "AI拡張: KnowledgeAssets参照"
        int version_number "AI拡張"
        text change_description "AI拡張"
        text content "AI拡張"
        UUID modified_by FK "AI拡張: Users参照"
        datetime created_at "AI拡張"
    }
    
    %% 関係性
    KnowledgeAssets ||--o{ KnowledgeVersions : "ナレッジバージョン管理"
    KnowledgeAssets ||--o{ QualityChecks : "ナレッジ品質評価"
    WikiPages ||--o{ QualityChecks : "Wiki品質チェック"
    ExecutionResults ||--o{ QualityChecks : "AI実行結果チェック"
```

```mermaid
erDiagram
    LearningProgress {
        UUID progress_id PK "AI拡張"
        UUID plan_id FK "AI拡張"
        string milestone_name "AI拡張"
        text description "AI拡張"
        string status "AI拡張: not_started/in_progress/completed"
        float completion_percentage "AI拡張"
        json assessment_results "AI拡張"
        datetime completed_at "AI拡張"
        datetime created_at "AI拡張"
    }

    LearningPlans {
        UUID plan_id PK "AI拡張"
        UUID learner_id FK "AI拡張"
        string plan_name "AI拡張"
        string learning_topic "AI拡張"
        text learning_objectives "AI拡張"
        string difficulty_level "AI拡張: beginner/intermediate/advanced"
        string status "AI拡張: draft/active/completed/cancelled"
        datetime start_date "AI拡張"
        datetime target_completion_date "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    

    LearningProgress }o--|| LearningPlans : "学習進捗管理"
```

### 8. 監査・ガバナンスドメイン

```mermaid
erDiagram
    AuditLogs {
        UUID audit_id PK "AI拡張"
        UUID execution_id FK "AI拡張"
        UUID user_id FK "AI拡張"
        string event_type "AI拡張: create/read/update/delete/approve/execute"
        string resource_type "AI拡張: plan/task/knowledge/integration"
        UUID resource_id "AI拡張"
        json before_state "AI拡張"
        json after_state "AI拡張"
        string ip_address "AI拡張"
        string user_agent "AI拡張"
        datetime timestamp "AI拡張"
    }
    
    ComplianceChecks {
        UUID compliance_id PK "AI拡張"
        UUID audit_id FK "AI拡張"
        string compliance_type "AI拡張: data_protection/security/quality"
        string check_status "AI拡張: passed/failed/warning"
        json check_results "AI拡張"
        text recommendations "AI拡張"
        datetime checked_at "AI拡張"
    }
    
    SecurityEvents {
        UUID event_id PK "AI拡張"
        UUID user_id FK "AI拡張"
        string event_type "AI拡張: login/logout/permission_change/suspicious_activity"
        string severity "AI拡張: low/medium/high/critical"
        text event_description "AI拡張"
        json event_details "AI拡張"
        string status "AI拡張: new/investigating/resolved"
        datetime detected_at "AI拡張"
        datetime resolved_at "AI拡張"
    }
    
    AuditLogs ||--o{ ComplianceChecks : "監査コンプライアンスチェック"
```

### 9. 外部統合ドメイン

#### 9.1. 統合設定・ログ管理

```mermaid
erDiagram
    IntegrationConfigs {
        UUID config_id PK "AI拡張"
        UUID organization_id FK "AI拡張"
        string integration_name "AI拡張"
        string external_system "AI拡張: redmine/databricks/github/vscode"
        string connection_type "AI拡張: api/webhook/file_sync"
        json configuration_data "AI拡張"
        json authentication_config "AI拡張"
        string status "AI拡張: active/inactive/error"
        UUID created_by FK "AI拡張"
        datetime last_sync_at "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    
    IntegrationLogs {
        UUID log_id PK "AI拡張"
        UUID config_id FK "AI拡張"
        string operation_type "AI拡張: sync/push/pull/webhook"
        string status "AI拡張: success/error/partial"
        json request_data "AI拡張"
        json response_data "AI拡張"
        text error_message "AI拡張"
        int retry_count "AI拡張"
        datetime operation_timestamp "AI拡張"
    }
    
    Imports {
        int id PK "Redmine標準"
        string type "Redmine標準"
        int user_id FK "Redmine標準"
        string filename "Redmine標準"
        text settings "Redmine標準"
        int total_items "Redmine標準"
        boolean finished "Redmine標準: default=false"
        datetime created_at "Redmine標準"
        datetime updated_at "Redmine標準"
    }
    
    ImportItems {
        int id PK "Redmine標準"
        int import_id FK "Redmine標準"
        int position "Redmine標準"
        int obj_id FK "Redmine標準"
        text message "Redmine標準"
    }
    
    %% 関係性
    IntegrationConfigs ||--o{ IntegrationLogs : "統合処理ログ管理"
    Users ||--o{ Imports : "ユーザーインポート実行"
    Imports ||--o{ ImportItems : "インポート項目詳細"
```

#### 9.4. バージョン管理統合

```mermaid
erDiagram
    %% Redmine基盤: バージョン管理統合
    Repositories {
        int id PK "Redmine標準"
        int project_id FK "Redmine標準"
        string url "Redmine標準"
        string login "Redmine標準"
        string password "Redmine標準"
        string root_url "Redmine標準"
        string type "Redmine標準: Subversion/Git/Mercurial/Bazaar/Filesystem"
        string path_encoding "Redmine標準"
        string log_encoding "Redmine標準"
        boolean is_default "Redmine標準"
        text extra_info "Redmine標準"
        datetime created_at "Redmine標準"
        datetime updated_at "Redmine標準"
    }
    
    Changesets {
        int id PK "Redmine標準"
        int repository_id FK "Redmine標準"
        string revision "Redmine標準"
        string committer "Redmine標準"
        datetime committed_on "Redmine標準"
        text comments "Redmine標準"
        datetime created_at "Redmine標準"
        datetime updated_at "Redmine標準"
    }
    
    ChangesetParents {
        int changeset_id FK "Redmine標準"
        int parent_id FK "Redmine標準"
    }
    
    ChangesetsIssues {
        int changeset_id FK "Redmine標準"
        int issue_id FK "Redmine標準"
    }
    
    Changes {
        int id PK "Redmine標準"
        int changeset_id FK "Redmine標準"
        string action "Redmine標準: A/M/D/R"
        string path "Redmine標準"
        string from_path "Redmine標準"
        string from_revision "Redmine標準"
        string revision "Redmine標準"
        string branch "Redmine標準"
    }
    
    %% 関係性
    Projects ||--o{ Repositories : "プロジェクトリポジトリ管理"
    Repositories ||--o{ Changesets : "リポジトリ変更セット"
    Changesets ||--o{ Changes : "変更セットファイル変更"
    Changesets ||--o{ ChangesetParents : "変更セット親子関係"
    Changesets ||--o{ ChangesetsIssues : "変更セットチケット関連"
    ChangesetsIssues }o--|| Issues : "関連チケット参照"
    Users ||--o{ Repositories : "リポジトリ管理者"
```

#### 9.5. AI拡張統合機能

```mermaid
erDiagram
    %% AI拡張: リポジトリ統合AI機能
    RepositoryAIAnalytics {
        UUID analytics_id PK "AI拡張"
        int repository_id FK "AI拡張"
        string commit_hash "AI拡張"
        json code_quality_metrics "AI拡張"
        json security_scan_results "AI拡張"
        json performance_impact "AI拡張"
        float ai_code_review_score "AI拡張"
        json ai_suggestions "AI拡張"
        json collaboration_metrics "AI拡張"
        UUID analyzed_by FK "AI拡張"
        datetime analysis_timestamp "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    
    CodeReviewAssistant {
        UUID review_id PK "AI拡張"
        int changeset_id FK "AI拡張"
        UUID reviewer_id FK "AI拡張"
        json ai_analysis_results "AI拡張"
        json suggested_improvements "AI拡張"
        json risk_assessment "AI拡張"
        string review_status "AI拡張: pending/approved/needs_changes"
        text ai_summary "AI拡張"
        datetime review_timestamp "AI拡張"
        datetime created_at "AI拡張"
        datetime updated_at "AI拡張"
    }
    
    %% 関係性
    Repositories ||--o{ RepositoryAIAnalytics : "リポジトリAI分析"
    Changesets ||--o{ CodeReviewAssistant : "変更セットAIレビュー"
    Users ||--o{ CodeReviewAssistant : "AIレビュー実行者"
```

## ドメイン間関係図

各ドメインがどのように相互に関連しているかを示すドメイン間関係図です。

```mermaid
erDiagram
    %% 主要エンティティ間の関係（ドメイン横断）
    Users ||--o{ Projects : "プロジェクト所有者"
    Users ||--o{ Tasks : "タスク担当者"
    Users ||--o{ AIAgents : "AIエージェント設定者"
    Users ||--o{ StrategicPlans : "戦略計画作成者"
    Users ||--o{ ApprovalFlows : "承認者"
    Users ||--o{ KnowledgeAssets : "ナレッジ作成者"
    Users ||--o{ LearningPlans : "学習計画所有者"
    Users ||--o{ AuditLogs : "監査ログ生成者"
    
    Projects ||--o{ StrategicPlans : "プロジェクト戦略実装"
    Projects ||--o{ Workflows : "プロジェクトワークフロー"
    
    Tasks ||--o{ Executions : "タスク実行トリガー"
    
    AIAgents ||--o{ Executions : "AI実行者"
    
    Executions ||--o{ ExecutionResults : "実行結果生成"
    Executions ||--o{ ApprovalFlows : "承認フロートリガー"
    Executions ||--o{ AuditLogs : "監査ログ生成"
    
    ExecutionResults ||--o{ Reviews : "結果レビュー"
    ExecutionResults ||--o{ QualityChecks : "品質チェック対象"
    
    Organizations ||--o{ Users : "組織メンバー"
    Organizations ||--o{ Projects : "組織プロジェクト"
    Organizations ||--o{ IntegrationConfigs : "組織統合設定"
```


## データ保護・セキュリティ考慮事項

### 機密情報保護
- Redmine標準権限モデルによるアクセス制御
- AI処理データの適切な分離・暗号化
- Redmine管理画面での統合セキュリティ管理

### 監査要件
- Redmine Journals機能による完全ログ記録
- AI実行履歴の詳細トレーサビリティ
- 承認プロセスのRedmine連携管理

### パフォーマンス考慮
- Redmine標準インデックス活用
- AI実行ログの効率的なパーティショニング
- Redmineキャッシュ機能との整合性確保

## 関連ドキュメント

- [035020_テーブル定義書.md](./035020_テーブル定義書.md): 詳細なテーブル仕様
- [021000_要件定義書.md](../../020000_要件定義/021000_要件定義書.md): システム要件
- [034020_ユースケース設計.md](../034000_アプリケーション設計/034020_ユースケース設計.md): ユースケース設計